{% extends 'accounts/base.html' %}
{% block content %}
<div class="container mt-5">
    <div class="row">
        <!-- Welcome Section -->
        <div class="col-12 text-center mb-4">
            <h1 class="display-5 fw-bold">Welcome to the Defects Tracking System</h1>
            <p class="text-muted">Track, manage, and resolve defects efficiently.</p>
            <hr>
        </div>
    </div>

    <!-- Quick Actions -->
    {% if user.is_authenticated %}
    <div class="row text-center mb-5">
        <div class="col-md-4 mb-3">
            <div class="card shadow-sm h-100">
                <div class="card-body">
                    <i class="bi bi-bug-fill fs-1 text-danger"></i>
                    <h5 class="card-title mt-3">View All Defects</h5>
                    <p class="card-text text-muted">See the list of all reported defects.</p>
                    <a href="{% url 'alldefects' %}" class="btn btn-outline-danger">Go</a>
                </div>
            </div>
        </div>

        <div class="col-md-4 mb-3">
            <div class="card shadow-sm h-100">
                <div class="card-body">
                    <i class="bi bi-plus-circle-fill fs-1 text-success"></i>
                    <h5 class="card-title mt-3">Report New Defect</h5>
                    <p class="card-text text-muted">Log a new defect into the system.</p>
                    <a href="{% url 'add' %}" class="btn btn-outline-success">Report</a>
                </div>
            </div>
        </div>

        <div class="col-md-4 mb-3">
            <div class="card shadow-sm h-100">
                <div class="card-body">
                    <i class="bi bi-person-circle fs-1 text-primary"></i>
                    <h5 class="card-title mt-3">Your Profile</h5>
                    <p class="card-text text-muted">View and manage your profile.</p>
                    <a href="{% url 'profile' %}" class="btn btn-outline-primary">View</a>
                </div>
            </div>
        </div>
    </div>
    {% else %}
    <div class="row">
        <div class="col-12 text-center">
            <p class="lead">Please <a href="{% url 'login' %}">login</a> or <a href="{% url 'register' %}">register</a> to access the system.</p>
        </div>
    </div>
    {% endif %}

    <!-- Stats Section -->
    {% if user.is_authenticated %}
    <div class="row">
        <div class="col-md-6">
            <div class="alert alert-info">
                <i class="bi bi-clipboard-data"></i> Total Defects: <strong>{{ total_defects }}</strong>
            </div>
        </div>
        <div class="col-md-6">
            <div class="alert alert-warning">
                <i class="bi bi-clock-history"></i> Pending Defects: <strong>{{ pending_defects }}</strong>
            </div>
        </div>
    </div>
    {% endif %}
</div>
{% endblock %}
